# bashrc_repo, the version control display for AOSC OSes PS1.
# by Arthur Wang

# This module is highly extensible. Just read the source.
# Long-term TODO: svn, vns and bzr.

# We are not POSIX-compatible.
shopt -oq posix && return

# Get functions
. /etc/bashrc.d/.bashrc_git &>/dev/null
. /etc/bashrc.d/.bashrc_hg &>/dev/null

# Output
_repo_status() {
  _ret=$?
  _git_branch 2>/dev/null || _hg_branch 2>/dev/null
  return $_ret
}

# If this file is simply copied into bashrc, then we don't need `return $_ret`.
# Simply delete the `_ret=$?` in _ret_prompt().
